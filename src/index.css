/* src/index.css */
@import "tailwindcss";
@import "@catppuccin/tailwindcss/mocha.css";

@layer base {
	body {
		margin: 0;
		background: var(--color-ctp-base);
		color: var(--color-ctp-text);
	}

	#app {
		min-height: 100vh;
	}

	.pbix-app {
		min-height: 100vh;
		background: var(--app-bg);
		color: var(--app-fg-primary);
		font-family: "Manrope", "Segoe UI", sans-serif;
		--app-fg-primary: var(--color-ctp-text);
		--app-fg-secondary: var(--color-ctp-subtext1);
		--app-fg-muted: var(--color-ctp-overlay1);
		--app-fg-accent-text: var(--color-ctp-blue);
		--app-fg-danger: var(--color-ctp-red);
		--app-fg-success: var(--color-ctp-green);
		--app-fg-warning: var(--color-ctp-yellow);
		--app-fg-info: var(--color-ctp-blue);
		--app-fg-report: var(--color-ctp-flamingo);
		--app-bg: var(--color-ctp-base);
		--app-surface-0: var(--color-ctp-surface0);
		--app-surface-1: var(--color-ctp-mantle);
		--app-surface-2: var(--color-ctp-surface1);
		--app-stroke: var(--color-ctp-surface2);
		--app-stroke-subtle: color-mix(in srgb, var(--app-stroke) 72%, transparent);
		--app-fill-hover: color-mix(in srgb, var(--app-accent-blue) 10%, var(--app-surface-0));
		--app-fill-press: color-mix(in srgb, var(--app-accent-blue) 16%, var(--app-surface-0));
		--app-accent-blue: #4f9cff;
		--app-accent-blue-hover: #69adff;
		--app-accent-blue-press: #2f7ed6;
		--app-focus-ring: #7bb6ff;
		--app-link: var(--app-accent-blue);
		--app-link-hover: var(--app-accent-blue-hover);
		--app-cta-orange: var(--color-ctp-peach);
		--app-cta-orange-hover: color-mix(in srgb, var(--color-ctp-peach) 88%, white 12%);
		--app-cta-orange-press: color-mix(in srgb, var(--color-ctp-peach) 80%, black 20%);
		--app-cta-orange-text: var(--color-ctp-crust);
		--app-selection-bg: color-mix(in srgb, var(--app-accent-blue) 30%, transparent);
		--app-selection-text: var(--app-fg-primary);
		--app-accent-secondary: var(--color-ctp-mauve);
		--app-border: var(--app-stroke);
		--app-accent: var(--app-accent-blue);
		--app-cta: var(--app-cta-orange);
		--app-cta-text: var(--app-cta-orange-text);
		--pivot-header-value-color: var(--app-fg-primary);
		--app-zebra-row-light: var(--app-surface-0);
		--app-zebra-row-dark: var(--app-surface-1);
		--app-zebra-row-first: var(--app-zebra-row-light);
		--app-zebra-row-second: var(--app-zebra-row-dark);
	}

	.pbix-app.latte {
		background: var(--app-bg);
		color: var(--app-fg-primary);
		--app-fg-primary: #303142;
		--app-fg-secondary: #3b3c4c;
		--app-fg-muted: #50566a;
		--app-fg-accent-text: #0f6cbd;
		--app-fg-danger: #6d081e;
		--app-fg-success: #1d4813;
		--app-fg-warning: #452c09;
		--app-fg-info: #0f3278;
		--app-fg-report: #522c2c;
		--app-bg: #f7f9fc;
		--app-surface-0: #ffffff;
		--app-surface-1: #eef3f9;
		--app-surface-2: #e6edf6;
		--app-stroke: #c7d3e1;
		--app-stroke-subtle: #d9e1ec;
		--app-fill-hover: #e8f0fb;
		--app-fill-press: #dce8f7;
		--app-accent-blue: #0f6cbd;
		--app-accent-blue-hover: #115ea3;
		--app-accent-blue-press: #0f548c;
		--app-focus-ring: #0f6cbd;
		--app-link: #0f6cbd;
		--app-link-hover: #115ea3;
		--app-cta-orange: color-mix(in srgb, var(--color-ctp-peach) 82%, white 18%);
		--app-cta-orange-hover: color-mix(in srgb, var(--app-cta-orange) 92%, white 8%);
		--app-cta-orange-press: color-mix(in srgb, var(--app-cta-orange) 82%, black 18%);
		--app-cta-orange-text: #faf6f0;
		--app-selection-bg: color-mix(in srgb, var(--app-accent-blue) 26%, transparent);
		--app-selection-text: var(--app-fg-primary);
		--app-accent-secondary: var(--color-ctp-mauve);
		--pivot-header-value-color: #313344;
		--app-zebra-row-light: color-mix(in srgb, var(--app-surface-0) 94%, var(--app-surface-1) 6%);
		--app-zebra-row-dark: color-mix(in srgb, var(--app-surface-0) 35%, var(--app-surface-1) 65%);
		--app-zebra-row-first: var(--app-zebra-row-light);
		--app-zebra-row-second: var(--app-zebra-row-dark);
	}

	.pbix-app.mocha {
		background: var(--app-bg);
		color: var(--app-fg-primary);
		--app-fg-primary: #dbe1f7;
		--app-fg-secondary: #dbe1f7;
		--app-fg-muted: var(--color-ctp-subtext0);
		--app-fg-accent-text: #bcd4fc;
		--app-fg-danger: #f8b7c9;
		--app-fg-success: #aee6a9;
		--app-fg-warning: #fae9c1;
		--app-fg-info: #bcd4fc;
		--app-fg-report: #fcf4f4;
		--app-bg: #0c1118;
		--app-surface-0: #151c25;
		--app-surface-1: #1b2430;
		--app-surface-2: #232f3d;
		--app-stroke: #3a4b61;
		--app-stroke-subtle: #2f3f53;
		--app-fill-hover: #223247;
		--app-fill-press: #1c2a3a;
		--app-accent-blue: #4f9cff;
		--app-accent-blue-hover: #69adff;
		--app-accent-blue-press: #2f7ed6;
		--app-focus-ring: #7bb6ff;
		--app-link: #69adff;
		--app-link-hover: #8bc0ff;
		--app-cta-orange: var(--color-ctp-peach);
		--app-cta-orange-hover: color-mix(in srgb, var(--color-ctp-peach) 88%, white 12%);
		--app-cta-orange-press: color-mix(in srgb, var(--color-ctp-peach) 80%, black 20%);
		--app-cta-orange-text: var(--color-ctp-crust);
		--app-selection-bg: color-mix(in srgb, var(--app-accent-blue) 30%, transparent);
		--app-selection-text: var(--app-fg-primary);
		--app-accent-secondary: var(--color-ctp-mauve);
		--pivot-header-value-color: #f3f6fc;
		--app-zebra-row-dark: color-mix(in srgb, var(--app-surface-0) 94%, var(--app-surface-1) 6%);
		--app-zebra-row-light: color-mix(in srgb, var(--app-surface-0) 40%, var(--app-surface-1) 60%);
		--app-zebra-row-first: var(--app-zebra-row-dark);
		--app-zebra-row-second: var(--app-zebra-row-light);
	}

	.pbix-app ::selection {
		background: var(--app-selection-bg);
		color: var(--app-selection-text);
	}

	.pbix-app button:not(:disabled) {
		cursor: pointer;
	}

	.pbix-app [role="switch"]:not([aria-disabled="true"]) {
		cursor: pointer;
	}

	.pbix-app button:disabled,
	.pbix-app [aria-disabled="true"] {
		cursor: not-allowed;
	}

	.pbix-app input[type="search"]::-webkit-search-cancel-button,
	.pbix-app input[type="search"]::-webkit-search-decoration {
		-webkit-appearance: none;
		appearance: none;
		display: none;
	}

	.pbix-hidden-check {
		color: var(--app-cta-orange);
	}
}

@layer components {
	.pbix-soft-tag {
		display: inline-flex;
		align-items: center;
		border-radius: 0.375rem;
		border: 1px solid color-mix(in srgb, var(--app-stroke) 78%, transparent);
		background: color-mix(in srgb, var(--app-surface-1) 58%, transparent);
		padding: 0.125rem 0.375rem;
		font-size: 0.75rem;
		font-weight: 600;
		line-height: 1.1;
		color: var(--app-link);
		white-space: nowrap;
	}

	.pbix-soft-tag[data-interactive="true"] {
		transition: color 160ms ease, background-color 160ms ease, border-color 160ms ease;
	}

	.pbix-soft-tag[data-interactive="true"]:hover {
		color: var(--app-link-hover);
		background: color-mix(in srgb, var(--app-link) 18%, var(--app-surface-1));
		border-color: color-mix(in srgb, var(--app-link) 35%, var(--app-stroke));
	}

	.pbix-soft-tag[data-interactive="true"]:focus-visible {
		outline: 2px solid var(--app-focus-ring);
		outline-offset: 1px;
	}

	.pbix-copy-feedback {
		animation: pbix-copy-feedback 1.5s ease-out forwards;
	}
}

@keyframes pbix-copy-feedback {
	0% {
		opacity: 0;
		transform: translateY(0);
	}
	8% {
		opacity: 1;
		transform: translateY(0);
	}
	70% {
		opacity: 1;
		transform: translateY(-2px);
	}
	86% {
		opacity: 0;
		transform: translateY(-8px);
	}
	100% {
		opacity: 0;
		transform: translateY(-8px);
	}
}
